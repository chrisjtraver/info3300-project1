<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script> <!--D3 Library Import-->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"> </script> <!--JQuery Library Import-->
  <script src="data.js"></script> <!--Arrest Data Import-->
  <link rel="stylesheet" type="text/css" href="style.css"> <!--External CSS Import-->
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'> <!--Import Open Sans Font-->
</head>

<body>
<h1 class="center">Trends in Marijuanna Prices & Arrest Locations</h1>
<h3 class="center">Chris Traver, Leila Younes, Chris Yoo</h3>
<div class="gradientScale"></div>
<div class="map"></div>
<div class="line-chart"></div>

<script>

<!-- ////////////////////////////////////////// SVG FOR GRAIDENT SCALE ///////////////////////////////////////////////////-->
 
//Attributes for Gradient Scale
var width = 1200,
   height = 100;

//Create Gradient Scale SVG 
var svg = d3.select(".gradientScale").append("svg")
    .attr("width", width)
    .attr("height", height)
	
<!-- ////////////////////////////////////////// GRADIENT FOR PRICES ///////////////////////////////////////////////////-->

gradientColors = ["green","red"]
gradientScale = d3.scale.linear().domain([263.68, 269.11]).range(gradientColors);

var gradientRect = svg.append("defs").append("linearGradient")
    .attr("id", "gradientScale")
    .attr("x1", "0%")
    .attr("y1", "0%")
    .attr("x2", "100%")
    .attr("y2", "0%")

//Leftmost Color
gradientRect.append("stop")
    .attr("stop-color", gradientColors[0])
	.attr("offset", "0%")

//Rightmost Color
gradientRect.append("stop")
    .attr("stop-color", gradientColors[1])
	.attr("offset", "100%")

//Create Gradient Scale Rectangle
svg.append("rect")
    .style("fill", "url(#gradientScale)")
	.attr("x", 40)
    .attr("y", 40)
	.attr("height", 25)
    .attr("width", width)
  
</script>

<script>

<!-- ////////////////////////////////////////// NYC MAP PROJECTION ///////////////////////////////////////////////////-->

//Attributes for NYC Map
var width = 1200,
   height = 800;

//Create NYC Map
var svg = d3.select(".map").append("svg")
    .attr("width", width)
    .attr("height", height)
	.attr("class", "map");

  //Map Projection Function
  d3.json("nyc.json", function(error, nyb) {

    var projection = d3.geo.mercator()
  					.center([-73.94, 40.70])
  					.scale(80000)
  					.translate([(width) / 2, (height)/2]);

	var path = d3.geo.path()
			.projection(projection);

	var g = svg.append("g");

	g.append("g")
		.attr("class", "boroughs")
		.selectAll(".state")
		.data(nyb.features)
		.enter().append("path")
		.attr("class", function(d){ return "borough-"+d.properties.boroughCode; })
		.attr("d", path);
	
		
<!-- ////////////////////////////////////////// PLOT CIRCLES ON MAP ///////////////////////////////////////////////////-->
	
	for (i = 0; i < data.length; i++) {
		var lonlat = [data[i].lon, data[i].lat];
		var xy = projection(lonlat)
		svg.append("circle")
		.attr({
		  cx: xy[0],
		  cy: xy[1],
		  r: 5,
		  fill: gradientScale(data[i].price),
		})
		.attr("stroke", "black")
	}
  
<!-- ////////////////////////////////////////// BOUROUGH LABELS ///////////////////////////////////////////////////-->

//Staten Island
svg.append("text")
				.attr("x", "20%")
				.attr("y", "50%")
				.attr("class", "map-label")
				.text("Staten Island")

//Manhattan
svg.append("text")
				.attr("x", "35%")
				.attr("y", 100)
				.attr("class", "map-label")
				.text("Manhattan")

//Bronx
svg.append("text")
				.attr("x", "70%")
				.attr("y", 100)
				.attr("class", "map-label")
				.text("Bronx")

//Queens
svg.append("text")
				.attr("x", "80%")
				.attr("y", "40%")
				.attr("class", "map-label")
				.text("Queens")
				
//Brooklyn
svg.append("text")
				.attr("x", "50%")
				.attr("y", "98%")
				.attr("class", "map-label")
				.text("Brooklyn")
});
  

<!-- ////////////////////////////////////////// LINE CHART ///////////////////////////////////////////////////-->

//Code for simple line chart goes here
		
</script>
</body>
</html>